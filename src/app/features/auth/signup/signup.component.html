<div class="auth-wrapper">
  <div class="auth-background">
    <div class="gradient-overlay"></div>
  </div>
  
  <div class="auth-container">
    <mat-card class="auth-card">
      <div class="brand-section">
        <div class="brand-icon">
          <mat-icon>shopping_cart</mat-icon>
        </div>
        <h1 class="brand-title">Product Manager</h1>
        <p class="brand-subtitle">Créez votre compte gratuitement</p>
      </div>

      <mat-card-content>
        <div class="form-header">
          <h2>Inscription</h2>
          <p>Rejoignez-nous en quelques secondes</p>
        </div>

        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
          <mat-form-field appearance="outline" class="full-width modern-field">
            <mat-label>Nom complet</mat-label>
            <input 
              matInput 
              type="text" 
              formControlName="name"
              placeholder="Jean Dupont"
              autocomplete="name">
            <mat-icon matPrefix class="field-icon">person_outline</mat-icon>
            <mat-error *ngIf="f['name'].errors?.['required']">
              Le nom est requis
            </mat-error>
            <mat-error *ngIf="f['name'].errors?.['minlength']">
              Minimum 3 caractères
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width modern-field">
            <mat-label>Adresse email</mat-label>
            <input 
              matInput 
              type="email" 
              formControlName="email"
              placeholder="votre@email.com"
              autocomplete="email">
            <mat-icon matPrefix class="field-icon">alternate_email</mat-icon>
            <mat-error *ngIf="f['email'].errors?.['required']">
              L'email est requis
            </mat-error>
            <mat-error *ngIf="f['email'].errors?.['email']">
              Veuillez entrer un email valide
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width modern-field">
            <mat-label>Âge (Optionnel)</mat-label>
            <input 
              matInput 
              type="number" 
              formControlName="age"
              placeholder="25">
            <mat-icon matPrefix class="field-icon">cake</mat-icon>
            <mat-hint class="field-hint">Vous devez avoir au moins 18 ans</mat-hint>
            <mat-error *ngIf="f['age'].errors?.['min']">
              Vous devez avoir au moins 18 ans
            </mat-error>
            <mat-error *ngIf="f['age'].errors?.['max']">
              Veuillez entrer un âge valide
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width modern-field">
            <mat-label>Mot de passe</mat-label>
            <input 
              matInput 
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
              placeholder="••••••••"
              autocomplete="new-password">
            <mat-icon matPrefix class="field-icon">lock_outline</mat-icon>
            <button 
              mat-icon-button 
              matSuffix 
              type="button"
              class="visibility-toggle"
              (click)="hidePassword = !hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-hint class="field-hint">Minimum 6 caractères</mat-hint>
            <mat-error *ngIf="f['password'].errors?.['required']">
              Le mot de passe est requis
            </mat-error>
            <mat-error *ngIf="f['password'].errors?.['minlength']">
              Minimum 6 caractères
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width modern-field">
            <mat-label>Confirmer le mot de passe</mat-label>
            <input 
              matInput 
              [type]="hideConfirmPassword ? 'password' : 'text'"
              formControlName="confirmPassword"
              placeholder="••••••••"
              autocomplete="new-password">
            <mat-icon matPrefix class="field-icon">lock_outline</mat-icon>
            <button 
              mat-icon-button 
              matSuffix 
              type="button"
              class="visibility-toggle"
              (click)="hideConfirmPassword = !hideConfirmPassword">
              <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="f['confirmPassword'].errors?.['required']">
              Veuillez confirmer votre mot de passe
            </mat-error>
            <mat-error *ngIf="signupForm.errors?.['passwordMismatch'] && f['confirmPassword'].touched">
              Les mots de passe ne correspondent pas
            </mat-error>
          </mat-form-field>

          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            class="full-width submit-button modern-button"
            [disabled]="loading || signupForm.invalid">
            <mat-spinner *ngIf="loading" diameter="20" class="button-spinner"></mat-spinner>
            <span *ngIf="!loading">
              <mat-icon class="button-icon">person_add</mat-icon>
              Créer mon compte
            </span>
          </button>
        </form>

        <div class="auth-divider">
          <span>OU</span>
        </div>

        <button 
          mat-stroked-button 
          class="full-width login-button modern-button-outline"
          (click)="goToLogin()">
          <mat-icon class="button-icon">login</mat-icon>
          J'ai déjà un compte
        </button>

        <div class="footer-links">
          <p class="footer-text">
            En créant un compte, vous acceptez nos 
            <a href="#" class="link-text">Conditions d'utilisation</a> et notre 
            <a href="#" class="link-text">Politique de confidentialité</a>
          </p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>